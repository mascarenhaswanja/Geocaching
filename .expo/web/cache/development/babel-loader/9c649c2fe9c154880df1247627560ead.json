{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/graphic/Documents/#mads4008_Advanced_Web/#project/Geocaching/Screens/AddCachingLocationComponent.js\";\n\nimport React, { useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { geostyles } from \"../utilities/Styles\";\nimport { db } from \"../utilities/FirebaseManager\";\nimport * as Location from \"expo-location\";\n\nvar AddCachLoc = function AddCachLoc(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      locDesc = _useState2[0],\n      setLocDesc = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      locHint = _useState4[0],\n      setLocHint = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      locLat = _useState6[0],\n      setLocLat = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      locLng = _useState8[0],\n      setLocLng = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      msg = _useState10[0],\n      setMsg = _useState10[1];\n\n  var saveCachLoc = function saveCachLoc() {\n    var cachLocation = {\n      lat: locLat,\n      lng: locLng,\n      desc: locDesc,\n      hint: locHint,\n      date: new Date().toLocaleDateString(),\n      isActive: true\n    };\n    db.collection(\"cachLocations\").add(cachLocation).then(function (docRef) {\n      console.log(\"Document written with ID: \", docRef.id);\n      setMsg(\"Successfully added\");\n    }).catch(function (error) {\n      console.error(\"Error adding document: \", error);\n      setMsg(\"Error while saving Cach Location!\");\n    });\n    setLocDesc('');\n    setLocHint('');\n    setLocLat('');\n    setLocLng('');\n    setMsg('');\n  };\n\n  var fetchCurrentLocation = function fetchCurrentLocation() {\n    Location.requestForegroundPermissionsAsync().then(function (result) {\n      if (result.status === \"granted\") {\n        console.log(\"User gave us permission to access their location\");\n        return Location.getCurrentPositionAsync({});\n      } else {\n        console.log(\"User denied permission\");\n        throw new Error(\"User didn't grant the permission\");\n      }\n    }).then(function (location) {\n      console.log(\"lat \" + location.coords.latitude + \" lng \" + location.coords.longitude + \" \");\n      setLocLat(location.coords.latitude);\n      setLocLng(location.coords.longitude);\n    }).catch(function (err) {\n      console.log(\"Error when requesting permission\");\n      console.log(err);\n      setMsg(\"Error give us permission\");\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: geostyles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: geostyles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Hide a Geocaching\"), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: geostyles.input,\n    onChangeText: function onChangeText(desc) {\n      return setLocDesc(desc);\n    },\n    placeholder: \"Enter description..\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    style: geostyles.input,\n    onChangeText: function onChangeText(hint) {\n      return setLocHint(hint);\n    },\n    placeholder: \"Enter hint\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }), React.createElement(Button, {\n    title: \"Fetch Location\",\n    onPress: fetchCurrentLocation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    style: geostyles.input,\n    onChangeText: function onChangeText(lat) {\n      return setLocLat(lat);\n    },\n    placeholder: \"Enter Latitude\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    value: String(locLat),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    style: geostyles.input,\n    onChangeText: function onChangeText(lng) {\n      return setLocLng(lng);\n    },\n    placeholder: \"Enter Longitude\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    value: String(locLng),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }), React.createElement(Button, {\n    title: \"Save Geocache\",\n    onPress: saveCachLoc,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  })), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, msg));\n};\n\nexport default AddCachLoc;","map":{"version":3,"sources":["/Users/graphic/Documents/#mads4008_Advanced_Web/#project/Geocaching/Screens/AddCachingLocationComponent.js"],"names":["React","useState","geostyles","db","Location","AddCachLoc","navigation","route","locDesc","setLocDesc","locHint","setLocHint","locLat","setLocLat","locLng","setLocLng","msg","setMsg","saveCachLoc","cachLocation","lat","lng","desc","hint","date","Date","toLocaleDateString","isActive","collection","add","then","docRef","console","log","id","catch","error","fetchCurrentLocation","requestForegroundPermissionsAsync","result","status","getCurrentPositionAsync","Error","location","coords","latitude","longitude","err","container","title","input","String"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\nimport { Button, SafeAreaView,TextInput ,Text ,View} from \"react-native\";\nimport { geostyles } from '../utilities/Styles'\nimport { db } from \"../utilities/FirebaseManager\";\nimport * as Location from \"expo-location\";\n\n\n\nconst AddCachLoc = ({navigation,route}) => {\n    const [locDesc, setLocDesc] = useState('')\n    const [locHint,setLocHint] = useState('')\n    const [locLat,setLocLat] = useState('')\n    const [locLng,setLocLng] = useState('')\n    const [msg,setMsg] = useState('')\n\n   const saveCachLoc = ()  => {\n       const cachLocation = {\n           lat : locLat,\n           lng : locLng,\n           desc : locDesc,\n           hint : locHint,\n           date : new Date().toLocaleDateString(),\n           isActive : true\n       }\n\n    db.collection(\"cachLocations\").add(cachLocation)\n    .then((docRef) => {\n        console.log(\"Document written with ID: \", docRef.id);\n        setMsg(`Successfully added`)\n    })\n    .catch((error) => {\n        console.error(\"Error adding document: \", error);\n        setMsg(\"Error while saving Cach Location!\");\n    });\n\n    setLocDesc('')\n    setLocHint('')\n    setLocLat('')\n    setLocLng('')\n    setMsg('')\n   }   \n\n   const fetchCurrentLocation = () => {\n        Location.requestForegroundPermissionsAsync()\n        .then(\n          (result) => {\n            if (result.status === \"granted\") {\n              console.log(\"User gave us permission to access their location\")\n              return Location.getCurrentPositionAsync({})\n            }\n            else {\n              console.log(\"User denied permission\")\n              throw new Error(\"User didn't grant the permission\");\n            }\n          }\n        )\n        .then( (location) => {\n          console.log(`lat ${location.coords.latitude} lng ${location.coords.longitude} `)\n          setLocLat(location.coords.latitude)\n          setLocLng(location.coords.longitude)\n\n        })\n        .catch((err)=>{\n          console.log(\"Error when requesting permission\")\n          console.log(err)\n          setMsg(\"Error give us permission\")\n          //update the UI to inform user of deny permission\n        })\n\n   }\n\n\n    return (\n      <SafeAreaView style={geostyles.container}>\n        <Text style={geostyles.title}>Hide a Geocaching</Text>\n        <View >\n              <TextInput\n                style={geostyles.input}\n                onChangeText={(desc) =>\n                    setLocDesc(desc)\n                }\n                placeholder=\"Enter description..\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n            />    \n              <TextInput\n                style={geostyles.input}\n                onChangeText={(hint) =>\n                    setLocHint(hint)\n                }\n                placeholder=\"Enter hint\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n            />    \n\n              <Button title=\"Fetch Location\" onPress={fetchCurrentLocation}/>\n                \n              <TextInput\n                style={geostyles.input}\n                onChangeText={(lat) =>\n                  setLocLat(lat)\n                }\n                placeholder=\"Enter Latitude\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n                value={String(locLat)}\n\n            />    \n              <TextInput\n                style={geostyles.input}\n                onChangeText={(lng) =>\n                  setLocLng(lng)\n                }\n                placeholder=\"Enter Longitude\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n                value={String(locLng)}\n            />    \n                  \n            <Button title=\"Save Geocache\" onPress={saveCachLoc}/>\n          </View>\n        <Text>{msg}</Text>\n        </SafeAreaView>\n    );\n}\n\nexport default AddCachLoc;"]},"metadata":{},"sourceType":"module"}