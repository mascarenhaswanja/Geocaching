{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mayankarya/Documents/Geocaching/Screens/AddCachingLocationComponent.js\";\n\nimport React, { useState } from \"react\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { db } from \"../utilities/FirebaseManager\";\nimport * as Location from \"expo-location\";\n\nvar AddCachLoc = function AddCachLoc(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      locDesc = _useState2[0],\n      setLocDesc = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      locHint = _useState4[0],\n      setLocHint = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      locLat = _useState6[0],\n      setLocLat = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      locLng = _useState8[0],\n      setLocLng = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      msg = _useState10[0],\n      setMsg = _useState10[1];\n\n  var saveCachLoc = function saveCachLoc() {\n    var cachLocation = {\n      lat: locLat,\n      lng: locLng,\n      desc: locDesc,\n      hint: locHint,\n      date: new Date().toLocaleDateString(),\n      isActive: true\n    };\n    db.collection(\"cachLocations\").add(cachLocation).then(function (docRef) {\n      console.log(\"Document written with ID: \", docRef.id);\n      setMsg(\"Successfully added\");\n    }).catch(function (error) {\n      console.error(\"Error adding document: \", error);\n      setMsg(\"Error while saving Cach Location!\");\n    });\n  };\n\n  var fetchCurrentLocation = function fetchCurrentLocation() {\n    Location.requestForegroundPermissionsAsync().then(function (result) {\n      if (result.status === \"granted\") {\n        console.log(\"User gave us permission to access their location\");\n        return Location.getCurrentPositionAsync({});\n      } else {\n        console.log(\"User denied permission\");\n        throw new Error(\"User didn't grant the permission\");\n      }\n    }).then(function (location) {\n      console.log(\"location recieved : \" + JSON.stringify(location));\n      setLocLat(location.coords.latitude);\n      setLocLng(location.coords.longitude);\n    }).catch(function (err) {\n      console.log(\"Error when requesting permission\");\n      console.log(err);\n      setMsg(\"Error give us permission\");\n    });\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    onChangeText: function onChangeText(desc) {\n      return setLocDesc(desc);\n    },\n    placeholder: \"Enter description..\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(hint) {\n      return setLocHint(hint);\n    },\n    placeholder: \"Enter hint\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }), React.createElement(Button, {\n    title: \"Fetch Location\",\n    onPress: fetchCurrentLocation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(lat) {\n      return setLocLat(lat);\n    },\n    placeholder: \"Enter Latitude\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    value: locLat,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    onChangeText: function onChangeText(lng) {\n      return setLocLng(lng);\n    },\n    placeholder: \"Enter Longitude\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    returnKeyType: \"next\",\n    value: locLng,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), React.createElement(Button, {\n    title: \"Save Cach\",\n    onPress: saveCachLoc,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 1\n    }\n  }, msg));\n};\n\nexport default AddCachLoc;","map":{"version":3,"sources":["/Users/mayankarya/Documents/Geocaching/Screens/AddCachingLocationComponent.js"],"names":["React","useState","db","Location","AddCachLoc","navigation","route","locDesc","setLocDesc","locHint","setLocHint","locLat","setLocLat","locLng","setLocLng","msg","setMsg","saveCachLoc","cachLocation","lat","lng","desc","hint","date","Date","toLocaleDateString","isActive","collection","add","then","docRef","console","log","id","catch","error","fetchCurrentLocation","requestForegroundPermissionsAsync","result","status","getCurrentPositionAsync","Error","location","JSON","stringify","coords","latitude","longitude","err"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\nimport { Button, SafeAreaView,TextInput ,Text ,View} from \"react-native\";\nimport { db } from \"../utilities/FirebaseManager\";\nimport * as Location from \"expo-location\";\n\n\n\nconst AddCachLoc = ({navigation,route}) => {\n    const [locDesc, setLocDesc] = useState('')\n    const [locHint,setLocHint] = useState('')\n    const [locLat,setLocLat] = useState('')\n    const [locLng,setLocLng] = useState('')\n    const [msg,setMsg] = useState('')\n\n   const saveCachLoc = ()  => {\n       const cachLocation = {\n           lat : locLat,\n           lng : locLng,\n           desc : locDesc,\n           hint : locHint,\n           date : new Date().toLocaleDateString(),\n           isActive : true\n       }\n\n    db.collection(\"cachLocations\").add(cachLocation)\n    .then((docRef) => {\n        console.log(\"Document written with ID: \", docRef.id);\n        setMsg(`Successfully added`)\n    })\n    .catch((error) => {\n        console.error(\"Error adding document: \", error);\n        setMsg(\"Error while saving Cach Location!\");\n    });\n   }   \n\n   const fetchCurrentLocation = () => {\n        Location.requestForegroundPermissionsAsync()\n        .then(\n          (result) => {\n            if (result.status === \"granted\") {\n              console.log(\"User gave us permission to access their location\")\n              return Location.getCurrentPositionAsync({})\n            }\n            else {\n              console.log(\"User denied permission\")\n              throw new Error(\"User didn't grant the permission\");\n            }\n          }\n        )\n        .then( (location) => {\n          console.log(`location recieved : ${JSON.stringify(location)}`)\n          setLocLat(location.coords.latitude)\n          setLocLng(location.coords.longitude)\n        })\n        .catch((err)=>{\n          console.log(\"Error when requesting permission\")\n          console.log(err)\n          setMsg(\"Error give us permission\")\n          //update the UI to inform user of deny permission\n        })\n\n   }\n\n\n    return (\n        <View>\n              <TextInput\n                onChangeText={(desc) =>\n                    setLocDesc(desc)\n                }\n                placeholder=\"Enter description..\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n            />    \n              <TextInput\n                onChangeText={(hint) =>\n                    setLocHint(hint)\n                }\n                placeholder=\"Enter hint\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n            />    \n\n              <Button title=\"Fetch Location\" onPress={fetchCurrentLocation}/>\n\n              <TextInput\n                onChangeText={(lat) =>\n                  setLocLat(lat)\n                }\n                placeholder=\"Enter Latitude\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n                value={locLat}\n\n            />    \n              <TextInput\n                onChangeText={(lng) =>\n                  setLocLng(lng)\n                }\n                placeholder=\"Enter Longitude\"  \n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                returnKeyType=\"next\"\n                value={locLng}\n            />    \n                  \n            <Button title=\"Save Cach\" onPress={saveCachLoc}/>\n\n<Text>{msg}</Text>\n        </View>\n    );\n}\n\nexport default AddCachLoc;"]},"metadata":{},"sourceType":"module"}